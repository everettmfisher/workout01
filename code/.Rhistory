sink(file = "../output/andre-iguodala-summary.txt", append = FALSE)
summary(iguodala)
sink()
sink(file = "../output/draymond-green-summary.txt", append = FALSE)
summary(green)
sink()
sink(file = "../output/kevin-durant-summary.txt", append = FALSE)
summary(durant)
sink()
sink(file = "../output/klay-thompson-summary.txt", append = FALSE)
summary(thompson)
sink()
sink(file = "../output/stephen-curry-summary.txt", append = FALSE)
summary(curry)
sink()
shots_data <- rbind(iguodala, green, durant, thompson, curry)
write.csv(shots_data, file = "../data/shots-data.csv")
sink(file = "../output/shots-data-summary.txt", append = FALSE)
summary(shots_data)
sink()
library(jpeg)
library(grid)
library(ggplot2)
court_file <- "../images/nba-court.jpg"
court_image <- rasterGrob(
readJPEG(court_file),
width = unit(1, "npc"),
height = unit(1, "npc"))
curry_shot_chart <- ggplot(curry) +
annotation_custom(court_image, -250, 250, -50, 420) +
geom_point(aes(x = x, y = y, color = shot_made_flag)) +
ylim(-50, 420) +
ggtitle("Shot Chart: Stephen Curry (2016 season)") +
theme_minimal()
ggsave("../images/stephen-curry-shot-chart.pdf", width=6.5, height=5)
durant_shot_chart <- ggplot(durant) +
annotation_custom(court_image, -250, 250, -50, 420) +
geom_point(aes(x = x, y = y, color = shot_made_flag)) +
ylim(-50, 420) +
ggtitle("Shot Chart: Kevin Durant (2016 season)") +
theme_minimal()
ggsave("../images/kevin-durant-shot-chart.pdf", width=6.5, height=5)
green_shot_chart <- ggplot(green) +
annotation_custom(court_image, -250, 250, -50, 420) +
geom_point(aes(x = x, y = y, color = shot_made_flag)) +
ylim(-50, 420) +
ggtitle("Shot Chart: Draymond Green (2016 season)") +
theme_minimal()
ggsave("../images/draymond-green-shot-chart.pdf", width=6.5, height=5)
iguodala_shot_chart <- ggplot(iguodala) +
annotation_custom(court_image, -250, 250, -50, 420) +
geom_point(aes(x = x, y = y, color = shot_made_flag)) +
ylim(-50, 420) +
ggtitle("Shot Chart: Andre Iguodala (2016 season)") +
theme_minimal()
ggsave("../images/andre-iguodala-shot-chart.pdf", width=6.5, height=5)
thompson_shot_chart <- ggplot(thompson) +
annotation_custom(court_image, -250, 250, -50, 420) +
geom_point(aes(x = x, y = y, color = shot_made_flag)) +
ylim(-50, 420) +
ggtitle("Shot Chart: Klay Thompson (2016 season)") +
theme_minimal()
ggsave("../images/klay-thompson-shot-chart.pdf", width=6.5, height=5)
gsw_shot_chart <- ggplot(shots_data) +
annotation_custom(court_image, -250, 250, -50, 420) +
geom_point(aes(x = x, y = y, color = shot_made_flag)) +
ylim(-50, 420) +
facet_wrap(~ name)
ggtitle("shot Charts for the Golden State Warriors (2016 season)") +
theme_minimal()
ggsave("../images/gsw-shot-charts.pdf", width = 8, height = 7)
ggsave("../images/gsw-shot-charts.png", width = 8, height = 7)
select(shots_data, period, minute, seconds_remaining, shot_made_flag, action_type, shot_type, x, y) %>%
summary()
head(curry)
select(shots_data, period, minute, seconds_remaining, shot_made_flag, action_type, shot_type, x, y) %>%
summary()
curry_shot_chart <- ggplot(curry) +
annotation_custom(court_image, -250, 250, -50, 420) +
geom_point(aes(x = x, y = y, color = shot_made_flag), shape = action_type) +
ylim(-50, 420) +
ggtitle("Shot Chart: Stephen Curry (2016 season)") +
theme_minimal()
ggsave("../images/stephen-curry-shot-chart.pdf", width=6.5, height=5)
curry_shot_chart <- ggplot(curry) +
annotation_custom(court_image, -250, 250, -50, 420) +
geom_point(aes(x = x, y = y, color = shot_made_flag), shape = action_type) +
ylim(-50, 420) +
ggtitle("Shot Chart: Stephen Curry (2016 season)") +
theme_minimal()
curry_shot_chart <- ggplot(curry) +
annotation_custom(court_image, -250, 250, -50, 420) +
geom_point(aes(x = x, y = y, color = shot_made_flag, shape = action_type) +
ylim(-50, 420) +
ggtitle("Shot Chart: Stephen Curry (2016 season)") +
theme_minimal()
ggsave("../images/stephen-curry-shot-chart.pdf", width=6.5, height=5)
curry_shot_chart <- ggplot(curry) +
annotation_custom(court_image, -250, 250, -50, 420) +
geom_point(aes(x = x, y = y, color = shot_made_flag, shape = action_type)) +
ylim(-50, 420) +
ggtitle("Shot Chart: Stephen Curry (2016 season)") +
theme_minimal()
ggsave("../images/stephen-curry-shot-chart.pdf", width=6.5, height=5)
curry_shot_chart
curry_shot_type <- curry$action_type
levels(curry_shot_type)["Jump Shot" %in% curry_shot_type | "Jump shot" %in% curry_shot_type] <- "Jump Shot"
curry_shot_type <- curry$action_type
levels(curry_shot_type)["Jump Shot" %in% levels(curry_shot_type) | "Jump shot" %in% levels(curry_shot_type)] <- "Jump Shot"
curry_shot_type <- curry$action_type
levels(curry_shot_type)
eff_shoot_2pt <- shots_data
eff_shoot_2pt <- eff_shoot_2pt %>%
filter(shot_type == "2PT Field Goal") %>%
select(name, shot_made_flag) %>%
group_by(name) %>%
summarize(total = length(shot_made_flag), made = length(shot_made_flag[shot_made_flag == "shot_yes"]), perc_made = round(made/total, digits = 3)) %>%
arrange(desc(perc_made))
kable(eff_shoot_2pt, caption = "2PT Effective Shooting % by Player")
shots_data %>%
summarize(total = length(shot_made_flag), made =  length(shot_made_flag[shot_made_flag == "shot_yes"]), perc_made = round(made/total, digits = 3)) %>%
arrange(desc(perc_made))
View(durant_shot_chart)
View(durant_shot_chart)
View(durant)
library(dplyr)
setwd("~/School/Spring 2019/Stat 133/workout01/code")
# make shots data
# adds name column to connect shot data with the player
# clarifies level names for shot_made_flag
# calculates the minutes elapsed for each shot taken
# combines individual player data into one tibble
# inputs: individual .csv files for each player
# outputs: individual tibbles, combined tibble, .txt summaries for each
## @knitr make_shots_data
library(dplyr)
library(readr)
iguodala <- read_csv("../data/andre-iguodala.csv", col_types = "fcfiiiffficii")
green <- read_csv("../data/draymond-green.csv", col_types = "fcfiiiffficii")
durant <- read_csv("../data/kevin-durant.csv", col_types = "fcfiiiffficii")
thompson <- read_csv("../data/klay-thompson.csv", col_types = "fcfiiiffficii")
curry <- read_csv("../data/stephen-curry.csv", col_types = "fcfiiiffficii")
iguodala <- mutate(iguodala, name = "Andre Iguodala")
green <- mutate(green, name = "Draymond Green")
durant <- mutate(durant, name = "Kevin Durant")
thompson <- mutate(thompson, name = "Klay Thompson")
curry <- mutate(curry, name = "Stephen Curry")
levels(iguodala$shot_made_flag) <- c("shot_no", "shot_yes")
levels(green$shot_made_flag) <- c("shot_no", "shot_yes")
levels(durant$shot_made_flag) <- c("shot_no", "shot_yes")
levels(thompson$shot_made_flag) <- c("shot_no", "shot_yes")
levels(curry$shot_made_flag) <- c("shot_no", "shot_yes")
iguodala <- mutate(iguodala, minute = ((period - 1) * 12) + (12 - minutes_remaining))
green <- mutate(green, minute = ((period - 1) * 12) + (12 - minutes_remaining))
durant <- mutate(durant, minute = ((period - 1) * 12) + (12 - minutes_remaining))
thompson <- mutate(thompson, minute = ((period - 1) * 12) + (12 - minutes_remaining))
curry <- mutate(curry, minute = ((period - 1) * 12) + (12 - minutes_remaining))
sink(file = "../output/andre-iguodala-summary.txt", append = FALSE)
summary(iguodala)
sink()
sink(file = "../output/draymond-green-summary.txt", append = FALSE)
summary(green)
sink()
sink(file = "../output/kevin-durant-summary.txt", append = FALSE)
summary(durant)
sink()
sink(file = "../output/klay-thompson-summary.txt", append = FALSE)
summary(thompson)
sink()
sink(file = "../output/stephen-curry-summary.txt", append = FALSE)
summary(curry)
sink()
shots_data <- rbind(iguodala, green, durant, thompson, curry)
write.csv(shots_data, file = "../data/shots-data.csv")
sink(file = "../output/shots-data-summary.txt", append = FALSE)
summary(shots_data)
sink()
typeof(curry$name)
library(dplyr)
library(readr)
iguodala <- read_csv("../data/andre-iguodala.csv", col_types = "fcfiiiffficii")
green <- read_csv("../data/draymond-green.csv", col_types = "fcfiiiffficii")
durant <- read_csv("../data/kevin-durant.csv", col_types = "fcfiiiffficii")
thompson <- read_csv("../data/klay-thompson.csv", col_types = "fcfiiiffficii")
curry <- read_csv("../data/stephen-curry.csv", col_types = "fcfiiiffficii")
iguodala <- mutate(iguodala, name = "Andre Iguodala")
green <- mutate(green, name = "Draymond Green")
durant <- mutate(durant, name = "Kevin Durant")
thompson <- mutate(thompson, name = "Klay Thompson")
curry <- mutate(curry, name = "Stephen Curry")
levels(iguodala$shot_made_flag) <- c("shot_no", "shot_yes")
levels(green$shot_made_flag) <- c("shot_no", "shot_yes")
levels(durant$shot_made_flag) <- c("shot_no", "shot_yes")
levels(thompson$shot_made_flag) <- c("shot_no", "shot_yes")
levels(curry$shot_made_flag) <- c("shot_no", "shot_yes")
iguodala <- mutate(iguodala, minute = ((period - 1) * 12) + (12 - minutes_remaining))
green <- mutate(green, minute = ((period - 1) * 12) + (12 - minutes_remaining))
durant <- mutate(durant, minute = ((period - 1) * 12) + (12 - minutes_remaining))
thompson <- mutate(thompson, minute = ((period - 1) * 12) + (12 - minutes_remaining))
curry <- mutate(curry, minute = ((period - 1) * 12) + (12 - minutes_remaining))
sink(file = "../output/andre-iguodala-summary.txt", append = FALSE)
summary(iguodala)
sink()
sink(file = "../output/draymond-green-summary.txt", append = FALSE)
summary(green)
sink()
sink(file = "../output/kevin-durant-summary.txt", append = FALSE)
summary(durant)
sink()
sink(file = "../output/klay-thompson-summary.txt", append = FALSE)
summary(thompson)
sink()
sink(file = "../output/stephen-curry-summary.txt", append = FALSE)
summary(curry)
sink()
shots_data <- rbind(iguodala, green, durant, thompson, curry)
write.csv(shots_data, file = "../data/shots-data.csv")
sink(file = "../output/shots-data-summary.txt", append = FALSE)
summary(shots_data)
sink()
library(jpeg)
library(grid)
library(ggplot2)
court_file <- "../images/nba-court.jpg"
court_image <- rasterGrob(
readJPEG(court_file),
width = unit(1, "npc"),
height = unit(1, "npc"))
curry_shot_chart <- ggplot(curry) +
annotation_custom(court_image, -250, 250, -50, 420) +
geom_point(aes(x = x, y = y, color = shot_made_flag)) +
ylim(-50, 420) +
ggtitle("Shot Chart: Stephen Curry (2016 season)") +
theme_minimal()
ggsave("../images/stephen-curry-shot-chart.pdf", width=6.5, height=5)
durant_shot_chart <- ggplot(durant) +
annotation_custom(court_image, -250, 250, -50, 420) +
geom_point(aes(x = x, y = y, color = shot_made_flag)) +
ylim(-50, 420) +
ggtitle("Shot Chart: Kevin Durant (2016 season)") +
theme_minimal()
ggsave("../images/kevin-durant-shot-chart.pdf", width=6.5, height=5)
green_shot_chart <- ggplot(green) +
annotation_custom(court_image, -250, 250, -50, 420) +
geom_point(aes(x = x, y = y, color = shot_made_flag)) +
ylim(-50, 420) +
ggtitle("Shot Chart: Draymond Green (2016 season)") +
theme_minimal()
ggsave("../images/draymond-green-shot-chart.pdf", width=6.5, height=5)
iguodala_shot_chart <- ggplot(iguodala) +
annotation_custom(court_image, -250, 250, -50, 420) +
geom_point(aes(x = x, y = y, color = shot_made_flag)) +
ylim(-50, 420) +
ggtitle("Shot Chart: Andre Iguodala (2016 season)") +
theme_minimal()
ggsave("../images/andre-iguodala-shot-chart.pdf", width=6.5, height=5)
thompson_shot_chart <- ggplot(thompson) +
annotation_custom(court_image, -250, 250, -50, 420) +
geom_point(aes(x = x, y = y, color = shot_made_flag)) +
ylim(-50, 420) +
ggtitle("Shot Chart: Klay Thompson (2016 season)") +
theme_minimal()
ggsave("../images/klay-thompson-shot-chart.pdf", width=6.5, height=5)
gsw_shot_chart <- ggplot(shots_data) +
annotation_custom(court_image, -250, 250, -50, 420) +
geom_point(aes(x = x, y = y, color = shot_made_flag)) +
ylim(-50, 420) +
facet_wrap(~ name)
ggtitle("shot Charts for the Golden State Warriors (2016 season)") +
theme_minimal()
ggsave("../images/gsw-shot-charts.pdf", width = 8, height = 7)
ggsave("../images/gsw-shot-charts.png", width = 8, height = 7)
library(dplyr)
library(readr)
iguodala <- read_csv("../data/andre-iguodala.csv", col_types = "fcfiiiffficii")
green <- read_csv("../data/draymond-green.csv", col_types = "fcfiiiffficii")
durant <- read_csv("../data/kevin-durant.csv", col_types = "fcfiiiffficii")
thompson <- read_csv("../data/klay-thompson.csv", col_types = "fcfiiiffficii")
curry <- read_csv("../data/stephen-curry.csv", col_types = "fcfiiiffficii")
iguodala <- mutate(iguodala, name = "Andre Iguodala")
green <- mutate(green, name = "Draymond Green")
durant <- mutate(durant, name = "Kevin Durant")
thompson <- mutate(thompson, name = "Klay Thompson")
curry <- mutate(curry, name = "Stephen Curry")
levels(iguodala$shot_made_flag) <- c("shot_no", "shot_yes")
levels(green$shot_made_flag) <- c("shot_no", "shot_yes")
levels(durant$shot_made_flag) <- c("shot_no", "shot_yes")
levels(thompson$shot_made_flag) <- c("shot_no", "shot_yes")
levels(curry$shot_made_flag) <- c("shot_no", "shot_yes")
iguodala <- mutate(iguodala, minute = ((period - 1) * 12) + (12 - minutes_remaining))
green <- mutate(green, minute = ((period - 1) * 12) + (12 - minutes_remaining))
durant <- mutate(durant, minute = ((period - 1) * 12) + (12 - minutes_remaining))
thompson <- mutate(thompson, minute = ((period - 1) * 12) + (12 - minutes_remaining))
curry <- mutate(curry, minute = ((period - 1) * 12) + (12 - minutes_remaining))
sink(file = "../output/andre-iguodala-summary.txt", append = FALSE)
summary(iguodala)
sink()
sink(file = "../output/draymond-green-summary.txt", append = FALSE)
summary(green)
sink()
sink(file = "../output/kevin-durant-summary.txt", append = FALSE)
summary(durant)
sink()
sink(file = "../output/klay-thompson-summary.txt", append = FALSE)
summary(thompson)
sink()
sink(file = "../output/stephen-curry-summary.txt", append = FALSE)
summary(curry)
sink()
shots_data <- rbind(iguodala, green, durant, thompson, curry)
write.csv(shots_data, file = "../data/shots-data.csv")
sink(file = "../output/shots-data-summary.txt", append = FALSE)
summary(shots_data)
sink()
library(jpeg)
library(grid)
library(ggplot2)
court_file <- "../images/nba-court.jpg"
court_image <- rasterGrob(
readJPEG(court_file),
width = unit(1, "npc"),
height = unit(1, "npc"))
curry_shot_chart <- ggplot(curry) +
annotation_custom(court_image, -250, 250, -50, 420) +
geom_point(aes(x = x, y = y, color = shot_made_flag)) +
ylim(-50, 420) +
ggtitle("Shot Chart: Stephen Curry (2016 season)") +
theme_minimal()
ggsave("../images/stephen-curry-shot-chart.pdf", width=6.5, height=5)
durant_shot_chart <- ggplot(durant) +
annotation_custom(court_image, -250, 250, -50, 420) +
geom_point(aes(x = x, y = y, color = shot_made_flag)) +
ylim(-50, 420) +
ggtitle("Shot Chart: Kevin Durant (2016 season)") +
theme_minimal()
ggsave("../images/kevin-durant-shot-chart.pdf", width=6.5, height=5)
green_shot_chart <- ggplot(green) +
annotation_custom(court_image, -250, 250, -50, 420) +
geom_point(aes(x = x, y = y, color = shot_made_flag)) +
ylim(-50, 420) +
ggtitle("Shot Chart: Draymond Green (2016 season)") +
theme_minimal()
ggsave("../images/draymond-green-shot-chart.pdf", width=6.5, height=5)
iguodala_shot_chart <- ggplot(iguodala) +
annotation_custom(court_image, -250, 250, -50, 420) +
geom_point(aes(x = x, y = y, color = shot_made_flag)) +
ylim(-50, 420) +
ggtitle("Shot Chart: Andre Iguodala (2016 season)") +
theme_minimal()
ggsave("../images/andre-iguodala-shot-chart.pdf", width=6.5, height=5)
thompson_shot_chart <- ggplot(thompson) +
annotation_custom(court_image, -250, 250, -50, 420) +
geom_point(aes(x = x, y = y, color = shot_made_flag)) +
ylim(-50, 420) +
ggtitle("Shot Chart: Klay Thompson (2016 season)") +
theme_minimal()
ggsave("../images/klay-thompson-shot-chart.pdf", width=6.5, height=5)
gsw_shot_chart <- ggplot(shots_data) +
annotation_custom(court_image, -250, 250, -50, 420) +
geom_point(aes(x = x, y = y, color = shot_made_flag)) +
ylim(-50, 420) +
facet_wrap(~ name)
ggtitle("shot Charts for the Golden State Warriors (2016 season)") +
theme_minimal()
ggsave("../images/gsw-shot-charts.pdf", width = 8, height = 7)
ggsave("../images/gsw-shot-charts.png", width = 8, height = 7)
kable(shots_data %>%
summarize(total = length(shot_made_flag), made =  length(shot_made_flag[shot_made_flag == "shot_yes"]), perc_made = round(made/total, digits = 3)) %>%
arrange(desc(perc_made)))
library(dplyr)
library(readr)
iguodala <- read_csv("../data/andre-iguodala.csv", col_types = "fcfiiiffficii")
green <- read_csv("../data/draymond-green.csv", col_types = "fcfiiiffficii")
durant <- read_csv("../data/kevin-durant.csv", col_types = "fcfiiiffficii")
thompson <- read_csv("../data/klay-thompson.csv", col_types = "fcfiiiffficii")
curry <- read_csv("../data/stephen-curry.csv", col_types = "fcfiiiffficii")
iguodala <- mutate(iguodala, name = "Andre Iguodala")
green <- mutate(green, name = "Draymond Green")
durant <- mutate(durant, name = "Kevin Durant")
thompson <- mutate(thompson, name = "Klay Thompson")
curry <- mutate(curry, name = "Stephen Curry")
levels(iguodala$shot_made_flag) <- c("shot_no", "shot_yes")
levels(green$shot_made_flag) <- c("shot_no", "shot_yes")
levels(durant$shot_made_flag) <- c("shot_no", "shot_yes")
levels(thompson$shot_made_flag) <- c("shot_no", "shot_yes")
levels(curry$shot_made_flag) <- c("shot_no", "shot_yes")
iguodala <- mutate(iguodala, minute = ((period - 1) * 12) + (12 - minutes_remaining))
green <- mutate(green, minute = ((period - 1) * 12) + (12 - minutes_remaining))
durant <- mutate(durant, minute = ((period - 1) * 12) + (12 - minutes_remaining))
thompson <- mutate(thompson, minute = ((period - 1) * 12) + (12 - minutes_remaining))
curry <- mutate(curry, minute = ((period - 1) * 12) + (12 - minutes_remaining))
sink(file = "../output/andre-iguodala-summary.txt", append = FALSE)
summary(iguodala)
sink()
sink(file = "../output/draymond-green-summary.txt", append = FALSE)
summary(green)
sink()
sink(file = "../output/kevin-durant-summary.txt", append = FALSE)
summary(durant)
sink()
sink(file = "../output/klay-thompson-summary.txt", append = FALSE)
summary(thompson)
sink()
sink(file = "../output/stephen-curry-summary.txt", append = FALSE)
summary(curry)
sink()
shots_data <- rbind(iguodala, green, durant, thompson, curry)
write.csv(shots_data, file = "../data/shots-data.csv")
sink(file = "../output/shots-data-summary.txt", append = FALSE)
summary(shots_data)
sink()
# make shots data
# adds name column to connect shot data with the player
# clarifies level names for shot_made_flag
# calculates the minutes elapsed for each shot taken
# combines individual player data into one tibble
# inputs: individual .csv files for each player
# outputs: individual tibbles, combined tibble, .txt summaries for each
## @knitr make_shots_data
library(dplyr)
library(readr)
iguodala <- read_csv("../data/andre-iguodala.csv", col_types = "fcfiiiffficii")
green <- read_csv("../data/draymond-green.csv", col_types = "fcfiiiffficii")
durant <- read_csv("../data/kevin-durant.csv", col_types = "fcfiiiffficii")
thompson <- read_csv("../data/klay-thompson.csv", col_types = "fcfiiiffficii")
curry <- read_csv("../data/stephen-curry.csv", col_types = "fcfiiiffficii")
iguodala <- mutate(iguodala, name = "Andre Iguodala")
green <- mutate(green, name = "Draymond Green")
durant <- mutate(durant, name = "Kevin Durant")
thompson <- mutate(thompson, name = "Klay Thompson")
curry <- mutate(curry, name = "Stephen Curry")
levels(iguodala$shot_made_flag) <- c("shot_no", "shot_yes")
levels(green$shot_made_flag) <- c("shot_no", "shot_yes")
levels(durant$shot_made_flag) <- c("shot_no", "shot_yes")
levels(thompson$shot_made_flag) <- c("shot_no", "shot_yes")
levels(curry$shot_made_flag) <- c("shot_no", "shot_yes")
iguodala <- mutate(iguodala, minute = ((period - 1) * 12) + (12 - minutes_remaining))
green <- mutate(green, minute = ((period - 1) * 12) + (12 - minutes_remaining))
durant <- mutate(durant, minute = ((period - 1) * 12) + (12 - minutes_remaining))
thompson <- mutate(thompson, minute = ((period - 1) * 12) + (12 - minutes_remaining))
curry <- mutate(curry, minute = ((period - 1) * 12) + (12 - minutes_remaining))
sink(file = "../output/andre-iguodala-summary.txt", append = FALSE)
summary(iguodala)
sink()
sink(file = "../output/draymond-green-summary.txt", append = FALSE)
summary(green)
sink()
sink(file = "../output/kevin-durant-summary.txt", append = FALSE)
summary(durant)
sink()
sink(file = "../output/klay-thompson-summary.txt", append = FALSE)
summary(thompson)
sink()
sink(file = "../output/stephen-curry-summary.txt", append = FALSE)
summary(curry)
sink()
shots_data <- rbind(iguodala, green, durant, thompson, curry)
write.csv(shots_data, file = "../data/shots-data.csv")
sink(file = "../output/shots-data-summary.txt", append = FALSE)
summary(shots_data)
sink()
sink()
# make shots data
# adds name column to connect shot data with the player
# clarifies level names for shot_made_flag
# calculates the minutes elapsed for each shot taken
# combines individual player data into one tibble
# inputs: individual .csv files for each player
# outputs: individual tibbles, combined tibble, .txt summaries for each
## @knitr make_shots_data
library(dplyr)
library(readr)
iguodala <- read_csv("../data/andre-iguodala.csv", col_types = "fcfiiiffficii")
green <- read_csv("../data/draymond-green.csv", col_types = "fcfiiiffficii")
durant <- read_csv("../data/kevin-durant.csv", col_types = "fcfiiiffficii")
thompson <- read_csv("../data/klay-thompson.csv", col_types = "fcfiiiffficii")
curry <- read_csv("../data/stephen-curry.csv", col_types = "fcfiiiffficii")
iguodala <- mutate(iguodala, name = "Andre Iguodala")
green <- mutate(green, name = "Draymond Green")
durant <- mutate(durant, name = "Kevin Durant")
thompson <- mutate(thompson, name = "Klay Thompson")
curry <- mutate(curry, name = "Stephen Curry")
levels(iguodala$shot_made_flag) <- c("shot_no", "shot_yes")
levels(green$shot_made_flag) <- c("shot_no", "shot_yes")
levels(durant$shot_made_flag) <- c("shot_no", "shot_yes")
levels(thompson$shot_made_flag) <- c("shot_no", "shot_yes")
levels(curry$shot_made_flag) <- c("shot_no", "shot_yes")
iguodala <- mutate(iguodala, minute = ((period - 1) * 12) + (12 - minutes_remaining))
green <- mutate(green, minute = ((period - 1) * 12) + (12 - minutes_remaining))
durant <- mutate(durant, minute = ((period - 1) * 12) + (12 - minutes_remaining))
thompson <- mutate(thompson, minute = ((period - 1) * 12) + (12 - minutes_remaining))
curry <- mutate(curry, minute = ((period - 1) * 12) + (12 - minutes_remaining))
sink(file = "../output/andre-iguodala-summary.txt", append = FALSE)
summary(iguodala)
sink()
sink(file = "../output/draymond-green-summary.txt", append = FALSE)
summary(green)
sink()
sink(file = "../output/kevin-durant-summary.txt", append = FALSE)
summary(durant)
sink()
sink(file = "../output/klay-thompson-summary.txt", append = FALSE)
summary(thompson)
sink()
sink(file = "../output/stephen-curry-summary.txt", append = FALSE)
summary(curry)
sink()
shots_data <- rbind(iguodala, green, durant, thompson, curry)
write.csv(shots_data, file = "../data/shots-data.csv")
sink(file = "../output/shots-data-summary.txt", append = FALSE)
summary(shots_data)
sink()
